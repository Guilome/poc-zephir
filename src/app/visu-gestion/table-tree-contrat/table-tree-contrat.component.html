<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col"></th>
      <th scope="col">Numero</th>
      <th scope="col">Nom client</th>
      <th scope="col">Nom intermédiaire</th>
      <th scope="col">État</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let dossier of dossiers">
      <th scope="row"><i class="fa fa-plus fa-lg" (click)="toggleChildren(dossier.ident)"></i></th>
      <td>
        {{dossier.context.contrat.numero}}
        <div *ngFor="let dp of dossierPieces">
          <table class="table table-striped mt-2" *ngIf="dp.bool && dp.dossier == dossier.ident ">
            <thead>
              <tr>
                <th scope="col">ident</th>
                <th scope="col">Priorité</th>
                <th scope="col">Code</th>
                <th scope="col">Statut</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let piece of dp.pieces">
                <th scope="row">{{piece.ident}}</th>
                <td>{{piece.priorite}}</td>
                <td>{{piece.code}}</td>
                <td>{{piece.status}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </td>
      <td>{{dossier.context.contrat.nomAppelClient}}</td>
      <td>{{dossier.context.contrat.nomAppelIntermediaire}}</td>
      <td>{{dossier.context.contrat.etatContrat}}</td>
      <td> <a routerLink="/TraitementTache/{{dossier.idContext}}"> <i class="fa fa-share-square-o fa-lg"  title="Traiter"></i></a></td>
    </tr>     
  </tbody>    
</table>

