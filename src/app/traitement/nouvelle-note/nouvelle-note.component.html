<div clas="row">
  <div class="col-sm-5 col-sm-offset-2">

    <form (ngSubmit)="onSubmit(f,msg)" #f="ngForm">

      <div class="form-group">
        <label for="code">Code</label>
        <select id="code" class="form-control" name="code" [ngModel]="defaultCode" #selectValue>
          <option  *ngFor="let c of mapCode"  [value]="c[0]">{{c[1]}}</option>
        </select>
      </div>

      <div class="form-group" *ngIf="selectValue.value == choixGroupe">
        <label for="groupe">Groupe</label>
        <select id="groupe" class="form-control" name="groupe" [ngModel]="defaultGroupe">
          <option  *ngFor="let g of groupes"  [value]="g|uppercase">{{g}}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="message">Message</label>
        <textarea id="message" class="form-control" name="message" #msg></textarea>
      </div>

      <div class="form-group">
        <label for="dateLimite">Date limite de traitement</label>
        <input type="date" id="dateLimite" class="form-control" name="dateLimite" [min]="currentDate | date:'yyyy-MM-dd'" ngModel="{{currentDate | date:'yyyy-MM-dd'}}" useValueAsDate required>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="f.invalid">Enregistrer</button>

    </form>

  </div>
</div>
